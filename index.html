<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gaza Memorial Timeline</title>
    <style>
        :root {
            --main-bg-color: #121212;
            --timeline-color: #6c757d;
            --card-bg-color: #1e1e1e;
            --header-color: #0a0a0a;
            --text-color: #e0e0e0;
            --secondary-text: #aaaaaa;
            --accent-color: #b3424a;
            --subtle-accent: rgba(179, 66, 74, 0.2);
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--main-bg-color);
            color: var(--text-color);
            background-image: url('/api/placeholder/1600/900');
            background-size: cover;
            background-attachment: fixed;
            background-position: center;
            background-blend-mode: overlay;
            min-height: 100vh;
        }
        
        body:before {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            z-index: -1;
        }
        
        header {
            background-color: var(--header-color);
            color: white;
            text-align: center;
            padding: 3rem 0;
            position: relative;
            overflow: hidden;
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.5);
        }
        
        header:before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.8)), url('/api/placeholder/1200/600');
            background-size: cover;
            background-position: center;
            z-index: -1;
            opacity: 0.4;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            position: relative;
        }
        
        h1 {
            margin: 0;
            font-weight: 400;
            font-size: 2.5rem;
            text-shadow: 0 2px 4px rgba(0,0,0,0.5);
        }
        
        .subtitle {
            margin-top: 0.5rem;
            font-weight: 300;
            opacity: 0.8;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            line-height: 1.6;
        }
        
        .quote {
            font-style: italic;
            opacity: 0.7;
            margin-top: 1.5rem;
            font-size: 1.1rem;
        }
        
        .timeline {
            position: relative;
            max-width: 1200px;
            margin: 4rem auto;
            padding-bottom: 4rem;
        }
        
        .timeline::after {
            content: '';
            position: absolute;
            width: 6px;
            background-color: var(--timeline-color);
            top: 0;
            bottom: 0;
            left: 50%;
            margin-left: -3px;
            box-shadow: 0 0 15px rgba(255,255,255,0.1);
        }
        
        .timeline-item {
            padding: 10px 40px;
            position: relative;
            background-color: inherit;
            width: 50%;
            box-sizing: border-box;
            margin-bottom: 40px;
        }
        
        .timeline-item::after {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            right: -10px;
            background-color: var(--main-bg-color);
            border: 4px solid var(--timeline-color);
            top: 15px;
            border-radius: 50%;
            z-index: 1;
            box-shadow: 0 0 10px rgba(255,255,255,0.2);
        }
        
        .left {
            left: 0;
        }
        
        .right {
            left: 50%;
        }
        
        .right::after {
            left: -10px;
        }
        
        .content {
            padding: 25px;
            background-color: var(--card-bg-color);
            position: relative;
            border-radius: 6px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.5);
            transition: all 0.3s ease;
            border-left: 4px solid var(--accent-color);
        }
        
        .content:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.6);
        }
        
        .date {
            font-weight: bold;
            color: var(--secondary-text);
            font-size: 0.9rem;
            letter-spacing: 1px;
        }
        
        .name {
            font-size: 1.4rem;
            margin: 0.7rem 0;
            color: var(--text-color);
        }
        
        .description {
            line-height: 1.6;
            margin-bottom: 1rem;
        }
        
        .details {
            margin-top: 1.5rem;
            display: none;
            padding-top: 1.5rem;
            border-top: 1px solid rgba(255,255,255,0.1);
            line-height: 1.7;
        }
        
        .image-container {
            margin: 1rem 0;
            overflow: hidden;
            border-radius: 4px;
            max-height: 250px;
        }
        
        .timeline-image {
            width: 100%;
            height: auto;
            transition: all 0.5s ease;
            display: block;
        }
        
        .content:hover .timeline-image {
            transform: scale(1.05);
        }
        
        .sources {
            font-size: 0.85rem;
            opacity: 0.7;
            margin-top: 1rem;
            font-style: italic;
        }
        
        .expand-btn {
            background: none;
            border: none;
            color: var(--accent-color);
            cursor: pointer;
            padding: 8px 16px;
            margin-top: 10px;
            font-size: 0.9rem;
            border-radius: 4px;
            transition: all 0.2s;
            border: 1px solid var(--accent-color);
            display: block;
            width: 100%;
        }
        
        .expand-btn:hover {
            background-color: var(--subtle-accent);
        }
        
        .historic-event {
            border-left: 4px solid #6c757d;
        }
        
        .memorial {
            border-left: 4px solid var(--accent-color);
        }
        
        .historic-event .date:before {
            content: "Historic Event • ";
        }
        
        .memorial .date:before {
            content: "Memorial • ";
        }
        
        .age {
            display: inline-block;
            background-color: var(--subtle-accent);
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 0.9rem;
            margin-top: 5px;
        }
        
        .loading {
            text-align: center;
            padding: 2rem;
            display: none;
            color: var(--secondary-text);
        }
        
        .loading:after {
            content: "...";
            animation: dots 1.5s infinite;
        }
        
        @keyframes dots {
            0%, 20% { content: "."; }
            40% { content: ".."; }
            60%, 100% { content: "..."; }
        }
        
        #admin-form {
            max-width: 800px;
            margin: 2rem auto;
            padding: 2rem;
            background-color: rgba(30, 30, 30, 0.9);
            border-radius: 8px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.5);
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--text-color);
        }
        
        input, textarea, select {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid #333;
            border-radius: 4px;
            background-color: #2c2c2c;
            color: var(--text-color);
            font-family: inherit;
        }
        
        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 0 2px var(--subtle-accent);
        }
        
        button {
            background-color: var(--accent-color);
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.2s;
        }
        
        button:hover {
            background-color: #a13841;
            transform: translateY(-2px);
        }
        
        .admin-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: rgba(30, 30, 30, 0.8);
            color: white;
            border: 1px solid var(--accent-color);
            padding: 10px;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            cursor: pointer;
            z-index: 100;
            box-shadow: 0 4px 10px rgba(0,0,0,0.3);
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }
        
        .admin-toggle:hover {
            background-color: var(--accent-color);
            transform: rotate(90deg);
        }
        
        .audio-control {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background-color: rgba(30, 30, 30, 0.8);
            color: white;
            border: 1px solid var(--accent-color);
            padding: 10px;
            border-radius: 30px;
            cursor: pointer;
            z-index: 100;
            box-shadow: 0 4px 10px rgba(0,0,0,0.3);
            display: flex;
            align-items: center;
            font-size: 0.9rem;
        }
        
        .audio-icon {
            margin-right: 8px;
            font-size: 1.2rem;
        }
        
        .candle-container {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            height: 60px;
            display: flex;
            justify-content: space-around;
            align-items: flex-end;
            z-index: -1;
            pointer-events: none;
        }
        
        .candle {
            width: 12px;
            height: 40px;
            background: linear-gradient(to bottom, #ff9d00, #ff6a00);
            border-radius: 6px 6px 0 0;
            position: relative;
            opacity: 0.7;
        }
        
        .candle:before {
            content: "";
            position: absolute;
            top: -15px;
            left: 3px;
            width: 6px;
            height: 15px;
            background: radial-gradient(#fff, #ff9d00);
            border-radius: 50% 50% 20% 20%;
            box-shadow: 0 0 20px #fff, 0 0 40px #ff9d00, 0 0 60px #ff9d00, 0 0 80px #ff9d00;
            animation: flicker 1s ease-in-out infinite alternate;
        }
        
        @keyframes flicker {
            0%, 100% { opacity: 1; }
            25% { opacity: 0.8; }
            50% { opacity: 0.9; }
            75% { opacity: 0.7; }
        }
        
        .info-box {
            position: absolute;
            top: 20px;
            right: 20px;
            background-color: rgba(30, 30, 30, 0.9);
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid var(--accent-color);
            max-width: 300px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.5);
            opacity: 0;
            transform: translateY(-20px);
            transition: all 0.5s ease;
        }
        
        .info-box.visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        @media screen and (max-width: 768px) {
            .timeline::after {
                left: 31px;
            }
            
            .timeline-item {
                width: 100%;
                padding-left: 70px;
                padding-right: 25px;
                margin-bottom: 30px;
            }
            
            .timeline-item::after {
                left: 21px;
                right: auto;
            }
            
            .left, .right {
                left: 0;
            }
            
            h1 {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>Gaza Memorial Timeline</h1>
            <p class="subtitle">Honoring the lives lost and documenting Gaza's history through decades of conflict. This timeline serves as a historical record and tribute to those who have suffered, particularly the children whose futures were cut short.</p>
            <p class="quote">"To forget a Holocaust is to kill twice." - Elie Wiesel</p>
        </div>
    </header>
    
    <div class="container">
        <div class="timeline" id="timeline-container">
            <!-- Timeline items will be inserted here by JavaScript -->
        </div>
        
        <div class="loading" id="loading">
            Loading more entries
        </div>
    </div>
    
    <!-- Admin Form (Hidden by default) -->
    <div id="admin-form" style="display: none;">
        <h2>Add New Entry</h2>
        <form id="entry-form">
            <div class="form-group">
                <label for="entry-type">Entry Type:</label>
                <select id="entry-type" name="entryType" required>
                    <option value="memorial">Memorial (Individual)</option>
                    <option value="historic-event">Historic Event</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="entry-date">Date:</label>
                <input type="date" id="entry-date" name="date" required>
            </div>
            
            <div class="form-group memorial-field">
                <label for="entry-name">Name:</label>
                <input type="text" id="entry-name" name="name">
            </div>
            
            <div class="form-group memorial-field">
                <label for="entry-age">Age:</label>
                <input type="number" id="entry-age" name="age" min="0">
            </div>
            
            <div class="form-group historic-field">
                <label for="entry-title">Event Title:</label>
                <input type="text" id="entry-title" name="title">
            </div>
            
            <div class="form-group">
                <label for="entry-description">Description:</label>
                <textarea id="entry-description" name="description" rows="4" required></textarea>
            </div>
            
            <div class="form-group">
                <label for="entry-image">Image URL (Optional):</label>
                <input type="text" id="entry-image" name="image" placeholder="Leave blank to use placeholder">
            </div>
            
            <div class="form-group">
                <label for="entry-details">Additional Details (Optional):</label>
                <textarea id="entry-details" name="details" rows="6"></textarea>
            </div>
            
            <div class="form-group">
                <label for="entry-sources">Sources/References (Optional):</label>
                <textarea id="entry-sources" name="sources" rows="2"></textarea>
            </div>
            
            <button type="submit">Save Entry</button>
            <button type="button" id="cancel-btn">Cancel</button>
        </form>
    </div>
    
    <div class="audio-control" id="audio-control">
        <span class="audio-icon">♫</span>
        <span id="audio-text">Play Background Music</span>
    </div>
    
    <audio id="background-music" loop>
        <source src="https://cdnjs.cloudflare.com/ajax/libs/SoundJS/1.0.2/soundjs.min.js" type="audio/mpeg">
        <!-- In a real implementation, you would use an actual music file instead of this CDN link -->
    </audio>
    
    <button class="admin-toggle" id="admin-toggle">+</button>
    
    <div class="candle-container" id="candle-container">
        <!-- Candles will be inserted here by JavaScript -->
    </div>
    
    <div class="info-box" id="info-box">
        <h3>About This Timeline</h3>
        <p>This memorial timeline documents the historical events in Gaza and honors the innocent lives lost during conflicts.</p>
        <p>Scroll down to explore more stories and historical moments.</p>
    </div>
    
    <script>
        // Sample extended data
        const timelineData = [
            {
                type: 'historic-event',
                date: '1956-10-29',
                title: 'Suez Crisis & Gaza Massacre',
                description: 'Israeli forces invaded Gaza during the Suez Crisis. Massacres occurred in Khan Yunis and Rafah refugee camps.',
                details: 'During the 1956 Suez Crisis, Israeli forces occupied the Gaza Strip. In November, Israeli troops committed massacres in Khan Yunis and Rafah refugee camps. According to UNRWA and Palestinian sources, hundreds of civilians were killed. These events marked one of the early tragedies in Gaza\'s modern history.',
                sources: 'UN archives, historical records',
                image: '/api/placeholder/600/400'
            },
            {
                type: 'historic-event',
                date: '1967-06-05',
                title: 'Six-Day War and Occupation of Gaza',
                description: 'Israel occupied the Gaza Strip during the Six-Day War, beginning a military occupation that would last for decades.',
                details: 'The Six-Day War resulted in Israel occupying the Gaza Strip, the West Bank, East Jerusalem, the Sinai Peninsula, and the Golan Heights. For Gaza, this began a long-term military occupation. The war created a new wave of Palestinian refugees and established Israeli control over the daily lives of Palestinians in Gaza.',
                sources: 'Historical archives, UN documents',
                image: '/api/placeholder/600/400'
            },
            {
                type: 'historic-event',
                date: '1987-12-08',
                title: 'First Intifada Begins',
                description: 'Palestinians in Gaza initiated the First Intifada, a mass uprising against the Israeli occupation.',
                details: 'The First Intifada began in the Jabalia refugee camp in Gaza after an Israeli military vehicle killed four Palestinians. The uprising spread throughout Gaza and the West Bank and continued until 1993. It was characterized by civil disobedience, general strikes, boycotts, and stone-throwing by Palestinian youth against Israeli military forces.',
                sources: 'News archives, historical documentation',
                image: '/api/placeholder/600/400'
            },
            {
                type: 'historic-event',
                date: '1994-05-04',
                title: 'Gaza-Jericho Agreement',
                description: 'The agreement established the Palestinian Authority and granted limited self-governance to Gaza and Jericho.',
                details: 'As part of the Oslo peace process, the Gaza-Jericho Agreement (Cairo Agreement) transferred limited authority to the Palestinian Authority in the Gaza Strip and Jericho. It was the first step in implementing Palestinian self-governance, though Israel maintained control of borders, airspace, and Israeli settlements in Gaza.',
                sources: 'Official agreement documents, diplomatic records',
                image: '/api/placeholder/600/400'
            },
            {
                type: 'historic-event',
                date: '2000-09-28',
                title: 'Second Intifada Erupts',
                description: 'A second Palestinian uprising began, resulting in increased violence and casualties in Gaza and the West Bank.',
                details: 'The Second Intifada was characterized by more intense violence than the First Intifada. In Gaza, it led to Israeli military operations, targeted assassinations, and air strikes. Palestinian militant groups carried out suicide bombings and rocket attacks. The uprising resulted in thousands of casualties, predominantly Palestinian.',
                sources: 'News archives, human rights reports',
                image: '/api/placeholder/600/400'
            },
            {
                type: 'historic-event',
                date: '2005-09-12',
                title: 'Israeli Disengagement from Gaza',
                description: 'Israel withdrew its settlements and military presence from the Gaza Strip after 38 years of occupation.',
                details: 'Under Prime Minister Ariel Sharon, Israel implemented a unilateral disengagement plan, evacuating all Israeli settlers and dismantling military installations in the Gaza Strip. However, Israel maintained control over Gaza\'s borders, coastline, and airspace, effectively turning Gaza into what many have called "an open-air prison."',
                sources: 'Government records, international media coverage',
                image: '/api/placeholder/600/400'
            },
            {
                type: 'historic-event',
                date: '2006-01-25',
                title: 'Hamas Wins Palestinian Legislative Elections',
                description: 'Hamas won the Palestinian legislative elections, leading to increased tensions and eventual blockade of Gaza.',
                details: 'Hamas unexpectedly won a majority of seats in the Palestinian Legislative Council elections. This victory led to tensions with Fatah and the international community. Following Hamas\'s takeover of Gaza in 2007, Israel and Egypt imposed a blockade on the territory that severely restricted the movement of people and goods.',
                sources: 'Election records, policy documents',
                image: '/api/placeholder/600/400'
            },
            {
                type: 'historic-event',
                date: '2008-12-27',
                title: 'Operation Cast Lead Begins',
                description: 'Israeli military operation in Gaza that resulted in significant civilian casualties and destruction of infrastructure.',
                details: 'Operation Cast Lead was a three-week armed conflict that began on December 27, 2008. The UN Fact Finding Mission reported that 1,383 Palestinians were killed, including 333 children. The operation caused widespread destruction of homes, schools, hospitals, and infrastructure.',
                sources: 'UN Reports, human rights organizations',
                image: '/api/placeholder/600/400'
            },
            {
                type: 'historic-event',
                date: '2012-11-14',
                title: 'Operation Pillar of Defense',
                description: 'Eight-day Israeli military operation in Gaza that began with the killing of Hamas military chief Ahmed Jabari.',
                details: 'The operation included hundreds of air strikes on Gaza and rocket fire from Gaza into Israel. By the end of the operation, 174 Palestinians were killed, including 33 children, and infrastructure was heavily damaged. A ceasefire was brokered by Egypt on November 21.',
                sources: 'Military reports, news coverage, NGO documentation',
                image: '/api/placeholder/600/400'
            },
            {
                type: 'historic-event',
                date: '2014-07-08',
                title: 'Operation Protective Edge',
                description: '50-day conflict that resulted in over 2,200 Palestinian deaths, including hundreds of children.',
                details: 'This was one of the deadliest and most destructive conflicts in Gaza. According to UN figures, 2,251 Palestinians were killed, including 1,462 civilians and 551 children. Over 11,000 Palestinians were injured, and approximately 18,000 housing units were destroyed or severely damaged, displacing about 100,000 people.',
                sources: 'UN investigations, human rights reports',
                image: '/api/placeholder/600/400'
            },
            {
                type: 'historic-event',
                date: '2018-03-30',
                title: 'Great March of Return Protests Begin',
                description: 'Weekly protests at the Gaza-Israel border demanding the right of return for Palestinian refugees and an end to the blockade.',
                details: 'The protests continued for more than a year and resulted in over 200 Palestinian deaths and thousands of injuries, many from Israeli sniper fire. The UN Commission of Inquiry found that Israeli forces may have committed war crimes and crimes against humanity during the protests.',
                sources: 'UN Commission of Inquiry, media coverage',
                image: '/api/placeholder/600/400'
            },
            {
                type: 'historic-event',
                date: '2021-05-10',
                title: 'Operation Guardian of the Walls',
                description: '11-day conflict between Israel and Hamas that caused significant destruction in Gaza.',
                details: 'The conflict resulted in at least 256 Palestinians killed in Gaza, including 66 children. It also caused extensive damage to infrastructure, with an estimated 1,770 housing and commercial units destroyed and 16,250 damaged, exacerbating Gaza\'s housing crisis.',
                sources: 'UN OCHA, humanitarian organizations',
                image: '/api/placeholder/600/400'
            },
            {
                type: 'historic-event',
                date: '2023-10-07',
                title: 'Israel-Hamas War Begins',
                description: 'Conflict erupted following Hamas attacks on Israel, leading to massive Israeli bombardment of Gaza.',
                details: 'The conflict began with Hamas attacks on southern Israel, followed by intensive Israeli airstrikes and a ground invasion of Gaza. By the end of 2023, over 20,000 Palestinians had been killed according to Gaza health authorities, with the majority being women and children. The war caused a severe humanitarian crisis with widespread displacement, destruction of homes and infrastructure, and limited access to food, water, and medical care.',
                sources: 'UN reports, international media coverage, humanitarian organizations',
                image: '/api/placeholder/600/400'
            },
            {
                type: 'memorial',
                date: '2023-10-15',
                name: 'Layan Alshaer',
                age: 9,
                description: 'Layan loved drawing and dreamed of becoming an artist. She was known for her bright smile and kindness to her classmates.',
                details: 'Layan was passionate about art and would often share her drawings with neighbors. Her favorite subjects were landscapes and animals. Her teachers noted her exceptional creativity and gentle nature. She is survived by her parents and two younger siblings.',
                sources: 'Family testimonials',
                image: '/api/placeholder/400/300'
            },
            {
                type: 'memorial',
                date: '2023-10-12',
                name: 'Ahmad Khalil',
                age: 7,
                description: 'Ahmad enjoyed playing football and was known for his energy and enthusiasm. He dreamed of becoming a doctor.',
                details: 'Ahmad was the youngest of three siblings and had just started his second year of school. His teachers described him as bright and curious. He loved helping his mother in their small garden and was learning to read both Arabic and English.',
                sources: 'School records, family statements',
                image: '/api/placeholder/400/300'
            },
            {
                type: 'memorial',
                date: '2023-10-18',
                name: 'Sama Ibrahim',
                age: 5,
                description: 'Sama was known for her love of singing and storytelling. She brought joy to her family with her cheerful personality.',
                details: 'Sama had just started kindergarten and was excited about learning to read. Her favorite activity was helping her grandmother in the kitchen. She had a collection of stuffed animals she would tell stories to each night before bed. Her parents described her as "our little sunshine."',
                sources: 'Family testimony',
                image: '/api/placeholder/400/300'
            },
            {
                type: 'memorial',
                date: '2023-10-20',
                name: 'Yousef Al-Najjar',
                age: 11,
                description: 'Yousef excelled in mathematics and hoped to become an engineer. He was always eager to help younger children with their studies.',
                details: 'Yousef was described by his teachers as exceptionally bright with particular talent in mathematics and science. He would often stay after school to help his classmates understand difficult concepts. He dreamed of rebuilding Gaza with stronger, safer buildings. Yousef also enjoyed playing chess and had won several local tournaments.',
                sources: 'School records, community remembrances',
                image: '/api/placeholder/400/300'
            },
            {
                type: 'memorial',
                date: '2023-10-25',
                name: 'Amira Hamdan',
                age: 6,
                description: 'Amira loved butterflies and flowers. She was known for her curious nature and would ask endless questions about the world.',
                details: 'Amira collected drawings of butterflies and had memorized many of their names. She dreamed of becoming a scientist to study them. Her kindergarten teacher noted her exceptional curiosity and how she always wanted to understand how things worked. Amira\'s parents remembered her for her infectious laughter and boundless energy.',
                sources: 'Family and teacher testimonies',
                image: '/api/placeholder/400/300'
            },
            {
                type: 'memorial',
                date: '2023-10-30',
                name: 'Omar Suleiman',
                age: 10,
                description: 'Omar was a talented storyteller who loved to write poems and stories. He aspired to become a journalist.',
                details: 'Omar carried a small notebook everywhere he went, jotting down observations and story ideas. His teachers were impressed by his vocabulary and imagination. Omar had recently written a story about birds flying freely across borders that his school had displayed on its bulletin board. He was the oldest of four siblings and took his role as big brother very seriously.',
                sources: 'School publications, family interviews',
                image: '/api/placeholder/400/300'
            },
            {
                type: 'memorial',
                date: '2023-10-12',
                name: 'Ahmad Khalil',
                age: 7,
                description: 'Ahmad enjoyed playing football and was known for his energy and enthusiasm. He dreamed of becoming a doctor.',
                details: 'Ahmad was the youngest of three siblings and had just started his second year of school. His teachers described him as bright and curious. He loved helping his mother in their small garden and was learning to read both Arabic and English.',
                sources: 'School records, family statements'
            },
            {
                type: 'historic-event',
                date: '2008-12-27',
                title: 'Operation Cast Lead Begins',
                description: 'Israeli military operation in Gaza that resulted in significant civilian casualties and destruction of infrastructure.',
                details: 'Operation Cast Lead was a three-week armed conflict that began on December 27, 2008. The UN Fact Finding Mission reported that 1,383 Palestinians were killed, including 333 children. The operation caused widespread destruction of homes, schools, hospitals, and infrastructure.',
                sources: 'UN Reports, human rights organizations'
            }
        ];
        
        // DOM elements
        const timelineContainer = document.getElementById('timeline-container');
        const adminToggle = document.getElementById('admin-toggle');
        const adminForm = document.getElementById('admin-form');
        const entryForm = document.getElementById('entry-form');
        const cancelBtn = document.getElementById('cancel-btn');
        const entryType = document.getElementById('entry-type');
        const loadingIndicator = document.getElementById('loading');
        
        // Show/hide fields based on entry type
        entryType.addEventListener('change', toggleFormFields);
        
        function toggleFormFields() {
            const memorialFields = document.querySelectorAll('.memorial-field');
            const historicFields = document.querySelectorAll('.historic-field');
            
            if (entryType.value === 'memorial') {
                memorialFields.forEach(field => field.style.display = 'block');
                historicFields.forEach(field => field.style.display = 'none');
            } else {
                memorialFields.forEach(field => field.style.display = 'none');
                historicFields.forEach(field => field.style.display = 'block');
            }
        }
        
        // Toggle admin form
        adminToggle.addEventListener('click', () => {
            adminForm.style.display = adminForm.style.display === 'none' ? 'block' : 'none';
        });
        
        // Cancel button
        cancelBtn.addEventListener('click', () => {
            adminForm.style.display = 'none';
            entryForm.reset();
        });
        
        // Form submit handler
        entryForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const newEntry = {
                type: entryType.value,
                date: document.getElementById('entry-date').value,
                description: document.getElementById('entry-description').value,
                details: document.getElementById('entry-details').value,
                sources: document.getElementById('entry-sources').value
            };
            
            if (entryType.value === 'memorial') {
                newEntry.name = document.getElementById('entry-name').value;
                newEntry.age = document.getElementById('entry-age').value;
            } else {
                newEntry.title = document.getElementById('entry-title').value;
            }
            
            // In a real implementation, you would send this data to a server
            // For now, we'll just add it to our local array and refresh the display
            timelineData.push(newEntry);
            timelineData.sort((a, b) => new Date(b.date) - new Date(a.date));
            
            renderTimelineItems();
            adminForm.style.display = 'none';
            entryForm.reset();
            
            alert('Entry added successfully!');
        });
        
        // Render timeline items
        function renderTimelineItems() {
            timelineContainer.innerHTML = '';
            
            timelineData.forEach((item, index) => {
                const isEven = index % 2 === 0;
                const timelineItem = document.createElement('div');
                timelineItem.className = `timeline-item ${isEven ? 'left' : 'right'}`;
                
                const formattedDate = new Date(item.date).toLocaleDateString('en-US', {
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                });
                
                let title = '';
                if (item.type === 'memorial') {
                    title = `${item.name}, age ${item.age}`;
                } else {
                    title = item.title;
                }
                
                timelineItem.innerHTML = `
                    <div class="content ${item.type}">
                        <div class="date">${formattedDate}</div>
                        <h3 class="name">${title}</h3>
                        <p>${item.description}</p>
                        <div class="details" id="details-${index}">
                            <p>${item.details}</p>
                            ${item.sources ? `<p><strong>Sources:</strong> ${item.sources}</p>` : ''}
                        </div>
                        <button class="expand-btn" data-index="${index}">Read more</button>
                    </div>
                `;
                
                timelineContainer.appendChild(timelineItem);
            });
            
            // Add event listeners to expand buttons
            document.querySelectorAll('.expand-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const index = this.getAttribute('data-index');
                    const details = document.getElementById(`details-${index}`);
                    
                    if (details.style.display === 'block') {
                        details.style.display = 'none';
                        this.textContent = 'Read more';
                    } else {
                        details.style.display = 'block';
                        this.textContent = 'Show less';
                    }
                });
            });
        }
        
        // Initialize form fields
        toggleFormFields();
        
        // Render initial timeline
        renderTimelineItems();
        
        // Infinite scrolling implementation
        window.addEventListener('scroll', function() {
            if (window.innerHeight + window.scrollY >= document.body.offsetHeight - 300) {
                loadMoreItems();
            }
        });
        
        function loadMoreItems() {
            // In a real implementation, this would fetch more data from a server
            // For demo purposes, we'll just simulate loading with a delay
            loadingIndicator.style.display = 'block';
            
            setTimeout(() => {
                loadingIndicator.style.display = 'none';
                
                // In a real app, you would add the new items to the timelineData array
                // and call renderTimelineItems() again
                
                // For this demo, we won't add more items since it's just a prototype
            }, 1500);
        }
    </script>
</body>
</html>
