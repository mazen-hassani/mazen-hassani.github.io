<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gaza Memorial Timeline</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #121212;
            color: #f5f5f5;
            overflow-x: hidden;
        }

        header {
            background: linear-gradient(rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.6)), 
                        url('https://via.placeholder.com/1920x600') center/cover no-repeat;
            padding: 6rem 0;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }

        h1 {
            font-size: 3.5rem;
            margin-bottom: 1rem;
            text-shadow: 0 2px 5px rgba(0, 0, 0, 0.5);
        }

        .subtitle {
            font-size: 1.2rem;
            max-width: 800px;
            margin: 0 auto 1.5rem;
            line-height: 1.6;
            opacity: 0.9;
        }

        .quote {
            font-style: italic;
            font-size: 1.1rem;
            opacity: 0.8;
            margin-top: 1.5rem;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Bubble Memory Design */
        .memory-field {
            position: relative;
            min-height: 100vh;
            padding: 4rem 0;
            overflow: hidden;
        }

        .memory-bubble {
            position: absolute;
            border-radius: 50%;
            background-size: cover;
            background-position: center;
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.2);
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            overflow: hidden;
            animation: float 8s infinite ease-in-out;
        }

        .memory-bubble:before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.4);
            border-radius: 50%;
            transition: background 0.3s ease;
        }

        .memory-bubble:hover {
            transform: scale(1.05);
            box-shadow: 0 0 30px rgba(255, 255, 255, 0.3);
        }

        .memory-bubble:hover:before {
            background: rgba(0, 0, 0, 0.2);
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0) rotate(0deg);
            }
            25% {
                transform: translateY(-20px) rotate(2deg);
            }
            50% {
                transform: translateY(0) rotate(0deg);
            }
            75% {
                transform: translateY(20px) rotate(-2deg);
            }
        }

        /* Memory Details */
        .memory-details {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.95);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 100;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.5s ease;
            overflow-y: auto;
        }

        .memory-details.active {
            opacity: 1;
            pointer-events: all;
        }

        .memory-content {
            max-width: 800px;
            width: 90%;
            background-color: #1e1e1e;
            border-radius: 8px;
            padding: 2rem;
            position: relative;
            box-shadow: 0 0 40px rgba(255, 255, 255, 0.1);
            transform: translateY(50px);
            opacity: 0;
            transition: transform 0.5s ease, opacity 0.5s ease;
        }

        .memory-details.active .memory-content {
            transform: translateY(0);
            opacity: 1;
        }

        .memory-close {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 1.5rem;
            background: none;
            border: none;
            color: #f5f5f5;
            cursor: pointer;
            opacity: 0.7;
            transition: opacity 0.3s ease;
        }

        .memory-close:hover {
            opacity: 1;
        }

        .memory-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 6px;
            margin-bottom: 1.5rem;
        }

        .memory-date {
            color: #aa86f8;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }

        .memory-title {
            font-size: 1.8rem;
            margin-bottom: 1rem;
            line-height: 1.3;
        }

        .memory-description {
            line-height: 1.6;
            margin-bottom: 1.5rem;
            opacity: 0.9;
        }

        .memory-details-section {
            margin-top: 1.5rem;
            padding-top: 1.5rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .memory-sources {
            margin-top: 1.5rem;
            padding-top: 1.5rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 0.9rem;
            opacity: 0.7;
        }

        /* Audio Controls */
        .audio-control {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: rgba(0, 0, 0, 0.7);
            padding: 10px 15px;
            border-radius: 30px;
            color: #f5f5f5;
            display: flex;
            align-items: center;
            cursor: pointer;
            z-index: 10;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
            transition: background-color 0.3s ease;
        }

        .audio-control:hover {
            background-color: rgba(30, 30, 30, 0.9);
        }

        .audio-icon {
            margin-right: 8px;
            font-size: 1.2rem;
        }

        /* Loading */
        .loading {
            display: none;
            text-align: center;
            padding: 2rem;
            opacity: 0.6;
            font-style: italic;
        }

        /* Admin Form */
        #admin-form {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: #1e1e1e;
            padding: 2rem;
            border-radius: 8px;
            z-index: 200;
            max-width: 600px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 0 50px rgba(0, 0, 0, 0.5);
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            opacity: 0.9;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 10px;
            background-color: #2c2c2c;
            border: 1px solid #444;
            border-radius: 4px;
            color: #f5f5f5;
            font-size: 1rem;
        }

        .form-group textarea {
            resize: vertical;
        }

        button {
            padding: 10px 20px;
            background-color: #aa86f8;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1rem;
            transition: background-color 0.3s ease;
        }

        button:hover {
            background-color: #9169f7;
        }

        #cancel-btn {
            background-color: transparent;
            border: 1px solid #444;
            margin-left: 10px;
        }

        #cancel-btn:hover {
            background-color: #333;
        }

        .admin-toggle {
            position: fixed;
            bottom: 20px;
            left: 20px;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: #aa86f8;
            color: white;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
            z-index: 10;
            transition: background-color 0.3s ease;
        }

        .admin-toggle:hover {
            background-color: #9169f7;
        }

        /* Floating rain drop effect */
        .raindrop {
            position: absolute;
            width: 2px;
            background-color: rgba(170, 134, 248, 0.3);
            border-radius: 50%;
            animation: rain linear infinite;
            opacity: 0;
        }

        @keyframes rain {
            0% {
                transform: translateY(-100px);
                opacity: 0;
            }
            10% {
                opacity: 0.7;
            }
            90% {
                opacity: 0.7;
            }
            100% {
                transform: translateY(calc(100vh + 100px));
                opacity: 0;
            }
        }

        /* Info Box */
        .info-box {
            position: fixed;
            left: 20px;
            top: 20px;
            background-color: rgba(0, 0, 0, 0.7);
            padding: 15px;
            border-radius: 8px;
            z-index: 10;
            max-width: 300px;
            box-shadow: 0 2px 15px rgba(0, 0, 0, 0.3);
            transition: opacity 0.5s ease;
        }

        .info-box h3 {
            margin-bottom: 10px;
            font-size: 1.2rem;
        }

        .info-box p {
            font-size: 0.9rem;
            line-height: 1.5;
            opacity: 0.9;
            margin-bottom: 0.8rem;
        }

        .info-box p:last-child {
            margin-bottom: 0;
        }

        /* Responsive design */
        @media (max-width: 768px) {
            h1 {
                font-size: 2.5rem;
            }

            .subtitle {
                font-size: 1rem;
            }

            .memory-title {
                font-size: 1.5rem;
            }

            .info-box {
                top: auto;
                bottom: 80px;
                left: 20px;
                max-width: calc(100% - 40px);
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>Gaza Memorial Timeline</h1>
            <p class="subtitle">Honoring the lives lost and documenting Gaza's history through decades of conflict. This
                timeline serves as a historical record and tribute to those who have suffered, particularly the children
                whose futures were cut short.</p>
            <p class="quote">"To forget a Holocaust is to kill twice." - Elie Wiesel</p>
        </div>
    </header>

    <div class="memory-field" id="memory-field">
        <!-- Memory bubbles will be inserted here by JavaScript -->
    </div>

    <div class="loading" id="loading">
        Loading more memories...
    </div>

    <!-- Memory Detail View (Hidden by default) -->
    <div class="memory-details" id="memory-details">
        <div class="memory-content">
            <button class="memory-close" id="memory-close">×</button>
            <img class="memory-image" id="detail-image" src="https://via.placeholder.com/800x400" alt="Memory Image">
            <p class="memory-date" id="detail-date">Date</p>
            <h3 class="memory-title" id="detail-title">Title</h3>
            <p class="memory-description" id="detail-description">Description</p>
            <div class="memory-details-section" id="detail-details">
                Additional details will be shown here.
            </div>
            <div class="memory-sources" id="detail-sources">
                <strong>Sources:</strong> Source information will be shown here.
            </div>
        </div>
    </div>

    <!-- Admin Form (Hidden by default) -->
    <div id="admin-form" style="display: none;">
        <h2>Add New Memory</h2>
        <form id="entry-form">
            <div class="form-group">
                <label for="entry-type">Entry Type:</label>
                <select id="entry-type" name="entryType" required>
                    <option value="memorial">Memorial (Individual)</option>
                    <option value="historic-event">Historic Event</option>
                </select>
            </div>

            <div class="form-group">
                <label for="entry-date">Date:</label>
                <input type="date" id="entry-date" name="date" required>
            </div>

            <div class="form-group memorial-field">
                <label for="entry-name">Name:</label>
                <input type="text" id="entry-name" name="name">
            </div>

            <div class="form-group memorial-field">
                <label for="entry-age">Age:</label>
                <input type="number" id="entry-age" name="age" min="0">
            </div>

            <div class="form-group historic-field">
                <label for="entry-title">Event Title:</label>
                <input type="text" id="entry-title" name="title">
            </div>

            <div class="form-group">
                <label for="entry-description">Description:</label>
                <textarea id="entry-description" name="description" rows="4" required></textarea>
            </div>

            <div class="form-group">
                <label for="entry-image">Image URL (Optional):</label>
                <input type="text" id="entry-image" name="image" placeholder="Leave blank to use placeholder">
            </div>

            <div class="form-group">
                <label for="entry-details">Additional Details (Optional):</label>
                <textarea id="entry-details" name="details" rows="6"></textarea>
            </div>

            <div class="form-group">
                <label for="entry-sources">Sources/References (Optional):</label>
                <textarea id="entry-sources" name="sources" rows="2"></textarea>
            </div>

            <button type="submit">Save Memory</button>
            <button type="button" id="cancel-btn">Cancel</button>
        </form>
    </div>

    <div class="audio-control" id="audio-control">
        <span class="audio-icon">♫</span>
        <span id="audio-text">Play Background Music</span>
    </div>

    <audio id="background-music" loop>
        <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3" type="audio/mpeg">
    </audio>

    <button class="admin-toggle" id="admin-toggle">+</button>

    <div class="info-box" id="info-box">
        <h3>About This Timeline</h3>
        <p>This memorial timeline documents the historical events in Gaza and honors the innocent lives lost during
            conflicts.</p>
        <p>Click on the floating images to explore stories and historical moments.</p>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script>
        // Sample extended data (for demonstration)
        const timelineData = [
            {
                "type": "historic-event",
                "date": "1948-05-14",
                "title": "Creation of Israel and Palestinian Nakba",
                "description": "The State of Israel was established, leading to the first Arab-Israeli war and the displacement of hundreds of thousands of Palestinians.",
                "details": "Following Israel's declaration of independence, neighboring Arab states invaded, beginning the 1948 Arab-Israeli War. During this period, approximately 750,000 Palestinians fled or were expelled from their homes in what Palestinians call 'Al-Nakba' (The Catastrophe). Many refugees fled to the Gaza Strip, which came under Egyptian administration after the war.",
                "sources": "United Nations Relief and Works Agency (UNRWA), Institute for Palestine Studies, Pappe, Ilan (2006), 'The Ethnic Cleansing of Palestine'",
                "image": "/api/placeholder/600/400"
            },
            {
                "type": "historic-event",
                "date": "1949-02-24",
                "title": "Gaza Under Egyptian Administration",
                "description": "The Egypt-Israel Armistice Agreement placed the Gaza Strip under Egyptian military administration.",
                "details": "Following the 1948 war, Egypt took control of the Gaza Strip. The territory's population swelled with Palestinian refugees, creating severe demographic pressure. During this period, Gaza was not annexed by Egypt, leaving residents in a state of political limbo without citizenship rights.",
                "sources": "United Nations archives, Filiu, Jean-Pierre (2014), 'Gaza: A History'",
                "image": "/api/placeholder/600/400"
            },
            {
                "type": "historic-event",
                "date": "1956-10-29",
                "title": "Suez Crisis & Gaza Massacre",
                "description": "Israeli forces invaded Gaza during the Suez Crisis. Massacres occurred in Khan Yunis and Rafah refugee camps.",
                "details": "During the 1956 Suez Crisis, Israeli forces occupied the Gaza Strip. In November, Israeli troops committed massacres in Khan Yunis and Rafah refugee camps. According to UNRWA and Palestinian sources, hundreds of civilians were killed. These events marked one of the early tragedies in Gaza's modern history.",
                "sources": "UN archives, historical records, Joe Sacco (2009), 'Footnotes in Gaza'",
                "image": "/api/placeholder/600/400"
            },
            {
                "type": "historic-event",
                "date": "1957-03-08",
                "title": "Israeli Withdrawal from Gaza",
                "description": "Under international pressure, Israel withdrew from the Gaza Strip, which returned to Egyptian control.",
                "details": "After strong pressure from the United States and the United Nations, Israel withdrew from the Gaza Strip in March 1957. The territory returned to Egyptian administration, while the refugee crisis continued to worsen with limited economic opportunities for Gaza's population.",
                "sources": "UN Security Council archives, Benny Morris (1993), 'Israel's Border Wars'",
                "image": "/api/placeholder/600/400"
            },
            {
                "type": "historic-event",
                "date": "1967-06-05",
                "title": "Six-Day War and Israeli Occupation of Gaza",
                "description": "Israel occupied the Gaza Strip during the Six-Day War, beginning a long-term military occupation.",
                "details": "During the 1967 Six-Day War, Israel captured the Gaza Strip from Egypt, beginning what would become a decades-long military occupation. This established direct Israeli control over the Palestinian population of Gaza and brought significant changes to daily life, including the establishment of Israeli settlements in the territory.",
                "sources": "UN archives, Journal of Palestine Studies, Michael Oren (2002), 'Six Days of War'",
                "image": "/api/placeholder/600/400"
            },
            {
                "type": "historic-event",
                "date": "1970-1971",
                "title": "Iron Fist Policy in Gaza",
                "description": "Israeli General Ariel Sharon implemented harsh security measures in Gaza to suppress Palestinian resistance.",
                "details": "From 1970-1971, General Ariel Sharon directed a harsh crackdown in Gaza aimed at eliminating Palestinian resistance. The campaign included widespread arrests, house demolitions, and deportations. Roads were cut through refugee camps to facilitate military control, destroying many homes in the process.",
                "sources": "Journal of Palestine Studies, Sara Roy (2007), 'Failing Peace: Gaza and the Palestinian-Israeli Conflict'",
                "image": "/api/placeholder/600/400"
            },
            {
                "type": "historic-event",
                "date": "1978-09-17",
                "title": "Camp David Accords",
                "description": "The Camp David Accords between Egypt and Israel included provisions for Palestinian autonomy in Gaza, which were never fully implemented.",
                "details": "The Camp David Accords between Egypt and Israel included a framework for Palestinian self-government in the Gaza Strip and West Bank. However, these autonomy provisions were never fully implemented, and Israeli military occupation continued. The accords also normalized relations between Egypt and Israel.",
                "sources": "The Camp David Accords (official text), William B. Quandt (2016), 'Camp David: Peacemaking and Politics'",
                "image": "/api/placeholder/600/400"
            },
            {
                "type": "historic-event",
                "date": "1987-12-08",
                "title": "First Intifada Begins",
                "description": "Palestinians in Gaza initiated the First Intifada, a widespread uprising against Israeli occupation.",
                "details": "The First Intifada (popular uprising) began in the Jabalia refugee camp in Gaza after an Israeli military vehicle killed four Palestinians. The uprising quickly spread throughout Gaza and the West Bank. Palestinians engaged in demonstrations, general strikes, boycotts of Israeli products, and stone-throwing. Israel responded with force, resulting in hundreds of Palestinian deaths and thousands of injuries over the course of the uprising.",
                "sources": "Journal of Palestine Studies, Zachary Lockman and Joel Beinin (1989), 'Intifada: The Palestinian Uprising Against Israeli Occupation'",
                "image": "/api/placeholder/600/400"
            },
            {
                "type": "historic-event",
                "date": "1993-09-13",
                "title": "Oslo Accords",
                "description": "The Oslo Accords created the Palestinian Authority and established limited Palestinian self-rule in Gaza.",
                "details": "The Oslo Accords, signed between Israel and the PLO, created the Palestinian Authority and established a framework for limited Palestinian self-governance in parts of Gaza and the West Bank. The agreement was intended as a first step toward a final status agreement, which was supposed to be reached within five years but never materialized.",
                "sources": "Oslo Accords (official text), Edward Said (2000), 'The End of the Peace Process: Oslo and After'",
                "image": "/api/placeholder/600/400"
            },
            {
                "type": "historic-event",
                "date": "1994-05-18",
                "title": "Palestinian Authority Takes Control in Gaza",
                "description": "The Palestinian Authority assumed control of parts of Gaza under the Gaza-Jericho Agreement.",
                "details": "Following the Oslo Accords, the Palestinian Authority assumed administrative control over parts of the Gaza Strip, though Israel maintained control over borders, airspace, and Israeli settlements in the territory. This began the complex system of divided control that would characterize Gaza for the next decade.",
                "sources": "Gaza-Jericho Agreement (official text), UN archives",
                "image": "/api/placeholder/600/400"
            },
            {
                "type": "historic-event",
                "date": "2000-09-28",
                "title": "Second Intifada Begins",
                "description": "The Second Intifada erupted, leading to increased violence in Gaza and harsh Israeli military responses.",
                "details": "The Second Intifada began following Ariel Sharon's controversial visit to the Temple Mount/Al-Aqsa Mosque compound. In Gaza, the uprising was marked by armed resistance, suicide bombings, and rocket attacks, with Israel responding with military incursions, targeted assassinations, and strict movement restrictions that severely impacted Gaza's economy and quality of life.",
                "sources": "B'Tselem human rights organization, Journal of Palestine Studies, Rashid Khalidi (2006), 'The Iron Cage'",
                "image": "/api/placeholder/600/400"
            },
            {
                "type": "historic-event",
                "date": "2005-08-15",
                "title": "Israeli Disengagement from Gaza",
                "description": "Israel unilaterally withdrew settlements and military positions from within the Gaza Strip.",
                "details": "In August 2005, Israel implemented its unilateral disengagement plan, removing approximately 8,000 Israeli settlers and military installations from within Gaza. However, Israel maintained control over Gaza's borders, airspace, and territorial waters, effectively keeping Gaza under external control. This has been described by many international organizations as a continued occupation in a different form.",
                "sources": "UN reports, Human Rights Watch, Gisha - Legal Center for Freedom of Movement",
                "image": "/api/placeholder/600/400"
            },
            {
                "type": "historic-event",
                "date": "2006-01-25",
                "title": "Hamas Wins Palestinian Legislative Elections",
                "description": "Hamas won a majority in the Palestinian Legislative Council elections, leading to international sanctions against Gaza.",
                "details": "Hamas won a majority in the Palestinian Legislative Council elections, defeating the ruling Fatah party. In response, Israel, the United States, and the European Union imposed economic sanctions on the Hamas-led government, demanding that it recognize Israel, renounce violence, and honor previous agreements. This began a period of increased isolation for Gaza.",
                "sources": "Carter Center election monitoring reports, International Crisis Group",
                "image": "/api/placeholder/600/400"
            },
            {
                "type": "historic-event",
                "date": "2007-06-14",
                "title": "Hamas Takes Control of Gaza",
                "description": "After internal fighting with Fatah, Hamas took full control of the Gaza Strip, leading to a political split in Palestinian governance.",
                "details": "Following months of tension and clashes between Hamas and Fatah, Hamas forces took complete control of the Gaza Strip. This led to a division in Palestinian governance, with Hamas controlling Gaza and Fatah/the Palestinian Authority controlling parts of the West Bank. In response, Israel and Egypt tightened border restrictions, beginning the Gaza blockade.",
                "sources": "International Crisis Group, UN reports, Human Rights Watch",
                "image": "/api/placeholder/600/400"
            },
            {
                "type": "historic-event",
                "date": "2007-06-19",
                "title": "Beginning of the Gaza Blockade",
                "description": "Israel imposed a land, air, and sea blockade on Gaza following Hamas's takeover.",
                "details": "After Hamas took control of Gaza, Israel declared Gaza a 'hostile territory' and imposed a comprehensive blockade, severely restricting the movement of people and goods. Egypt also largely closed its border with Gaza. The blockade has had devastating effects on Gaza's economy and infrastructure, leading to what the UN has called a 'humanitarian crisis' and 'de-development' of the territory.",
                "sources": "UN Office for the Coordination of Humanitarian Affairs (OCHA), World Bank, Gisha - Legal Center for Freedom of Movement",
                "image": "/api/placeholder/600/400"
            },
            {
                "type": "historic-event",
                "date": "2008-12-27",
                "title": "Operation Cast Lead",
                "description": "Israel launched a major military operation in Gaza following rocket fire into Israel.",
                "details": "Israel launched Operation Cast Lead, a three-week military offensive in Gaza following rocket fire into Israel. The operation resulted in approximately 1,400 Palestinian deaths, including many civilians, according to Palestinian and international sources. Israeli military actions included airstrikes and a ground invasion, causing widespread destruction of homes and infrastructure in Gaza.",
                "sources": "UN Fact Finding Mission on the Gaza Conflict (Goldstone Report), B'Tselem, Palestinian Centre for Human Rights",
                "image": "/api/placeholder/600/400"
            },
            {
                "type": "historic-event",
                "date": "2010-05-31",
                "title": "Gaza Flotilla Raid",
                "description": "Israeli forces raided a flotilla attempting to break the Gaza blockade, killing nine activists and increasing international attention on Gaza.",
                "details": "Israeli naval commandos raided the Gaza Freedom Flotilla, a group of ships attempting to break the blockade and deliver humanitarian aid to Gaza. Nine Turkish activists were killed on the lead ship, the Mavi Marmara, causing an international incident and increased scrutiny of the Gaza blockade. The incident damaged Israeli-Turkish relations and led to increased international pressure regarding the situation in Gaza.",
                "sources": "UN Human Rights Council Fact-Finding Mission, Turkish investigation, Israeli Turkel Commission",
                "image": "/api/placeholder/600/400"
            },
            {
                "type": "historic-event",
                "date": "2012-11-14",
                "title": "Operation Pillar of Defense",
                "description": "Israel launched another major military operation in Gaza, resulting in significant Palestinian casualties.",
                "details": "Israel launched Operation Pillar of Defense following rocket fire from Gaza. The eight-day conflict included the targeted killing of Hamas military chief Ahmed Jabari and resulted in over 160 Palestinian deaths, many of them civilians, according to Palestinian sources. Hamas and other groups fired rockets into Israel, killing six Israelis. The operation ended with a ceasefire brokered by Egypt.",
                "sources": "UN Office for the Coordination of Humanitarian Affairs (OCHA), B'Tselem, Human Rights Watch",
                "image": "/api/placeholder/600/400"
            },
            {
                "type": "historic-event",
                "date": "2014-07-08",
                "title": "Operation Protective Edge",
                "description": "Israel launched its deadliest operation in Gaza since 2005, resulting in over 2,200 Palestinian deaths.",
                "details": "Israel launched Operation Protective Edge, a 50-day military campaign that included airstrikes and a ground invasion. According to Palestinian sources and UN investigations, over 2,200 Palestinians were killed, including approximately 1,500 civilians and more than 500 children. 73 Israelis were also killed, including 67 soldiers. The operation caused massive destruction in Gaza, with entire neighborhoods leveled and infrastructure severely damaged.",
                "sources": "UN Independent Commission of Inquiry, B'Tselem, Palestinian Centre for Human Rights, Euro-Mediterranean Human Rights Monitor",
                "image": "/api/placeholder/600/400"
            },
            {
                "type": "historic-event",
                "date": "2018-03-30",
                "title": "Great March of Return Begins",
                "description": "Palestinians in Gaza began weekly protests near the Israel-Gaza border, leading to numerous casualties.",
                "details": "Palestinians in Gaza began the 'Great March of Return,' a series of weekly protests near the Israel-Gaza border demanding the right of return for refugees and an end to the blockade. Over the course of approximately 18 months of protests, more than 200 Palestinians were killed and thousands wounded by Israeli forces, according to Palestinian health officials and human rights organizations. The Israeli military stated it was responding to threats to the border fence and violent actions.",
                "sources": "UN Human Rights Council investigation, Human Rights Watch, Amnesty International, WHO",
                "image": "/api/placeholder/600/400"
            },
            {
                "type": "historic-event",
                "date": "2019-05-03",
                "title": "UN Warning on Gaza Collapse",
                "description": "The United Nations warned that Gaza was 'on the verge of collapse' due to the ongoing blockade and recurring conflicts.",
                "details": "The UN Special Coordinator for the Middle East Peace Process warned that Gaza was 'on the verge of collapse' due to the prolonged blockade, deteriorating infrastructure, recurring conflicts, and internal Palestinian division. UN agencies reported that 53% of Gazans lived in poverty, 70% were food insecure, and unemployment had reached record levels, particularly among youth.",
                "sources": "UN Office for the Coordination of Humanitarian Affairs (OCHA), World Bank, UN Development Programme",
                "image": "/api/placeholder/600/400"
            },
            {
                "type": "historic-event",
                "date": "2021-05-10",
                "title": "May 2021 Israel-Gaza Conflict",
                "description": "Eleven days of intense fighting between Israel and Hamas resulted in significant casualties and destruction in Gaza.",
                "details": "Eleven days of fighting between Israel and Hamas resulted in at least 256 Palestinian deaths in Gaza, including 66 children, according to the Gaza health ministry. Thirteen people were killed in Israel, including two children. The conflict began following tensions in Jerusalem, including threatened evictions in Sheikh Jarrah and Israeli police actions at Al-Aqsa Mosque. Hamas fired rockets into Israel, and Israel carried out extensive airstrikes in Gaza, causing significant damage to infrastructure, homes, and medical facilities.",
                "sources": "UN Office for the Coordination of Humanitarian Affairs (OCHA), Human Rights Watch, Palestinian Ministry of Health, Israeli government reports",
                "image": "/api/placeholder/600/400"
            },
            {
                "type": "historic-event",
                "date": "2023-10-07",
                "title": "Hamas Attack and Beginning of Israel-Gaza War",
                "description": "Hamas launched an unprecedented attack on Israel, triggering a devastating Israeli military response in Gaza.",
                "details": "Hamas and other Palestinian armed groups launched a surprise attack on Israel, killing approximately 1,200 people, mostly civilians, and taking about 250 hostages according to Israeli officials. In response, Israel launched a massive military campaign in Gaza, implementing a complete siege, cutting off water, electricity, and fuel supplies. The Israeli military campaign has included intensive bombardment and a ground invasion across Gaza.",
                "sources": "UN reports, Human Rights Watch, news sources, Israeli government statements, Hamas statements",
                "image": "/api/placeholder/600/400"
            },
            {
                "type": "historic-event",
                "date": "2023-10-13",
                "title": "Gaza Evacuation Order",
                "description": "Israel ordered the evacuation of northern Gaza, displacing over a million Palestinians.",
                "details": "The Israeli military ordered the evacuation of all civilians from northern Gaza, including Gaza City, ahead of a planned ground invasion. This order affected over a million people, many of whom were forced to flee to southern Gaza with limited provisions under ongoing bombardment. The UN and humanitarian organizations warned that such a mass evacuation was impossible to carry out safely and would result in a humanitarian catastrophe.",
                "sources": "UN statements, Israeli military announcements, humanitarian organizations' reports",
                "image": "/api/placeholder/600/400"
            },
            {
                "type": "historic-event",
                "date": "2023-11-15",
                "title": "Al-Shifa Hospital Crisis",
                "description": "Israeli forces surrounded and raided Gaza's largest hospital, Al-Shifa, amid a humanitarian catastrophe.",
                "details": "Israeli forces surrounded and then raided Al-Shifa Hospital, Gaza's largest medical facility, claiming Hamas was using it as a command center. The siege and subsequent raid occurred amid dire conditions in the hospital, with reports of patients, including premature babies, dying due to lack of electricity, medical supplies, and clean water. Medical staff and international organizations reported a humanitarian catastrophe, with thousands of patients, medical workers, and displaced civilians trapped in the facility.",
                "sources": "World Health Organization, Médecins Sans Frontières, UN statements, Al-Shifa Hospital staff reports",
                "image": "/api/placeholder/600/400"
            },
            {
                "type": "historic-event",
                "date": "2024-01-26",
                "title": "International Court of Justice Preliminary Ruling",
                "description": "The ICJ ordered Israel to take measures to prevent acts of genocide in Gaza but did not order a ceasefire.",
                "details": "The International Court of Justice issued a preliminary ruling in the case brought by South Africa accusing Israel of genocide in Gaza. The court ordered Israel to take measures to prevent acts of genocide and improve the humanitarian situation in Gaza, but stopped short of ordering a ceasefire. The court also ordered Israel to preserve evidence and report back on its compliance with the measures. This represented a significant international legal development in the conflict.",
                "sources": "International Court of Justice ruling, United Nations statements, legal analyses",
                "image": "/api/placeholder/600/400"
            },
            {
                "type": "historic-event",
                "date": "2024-05-07",
                "title": "Rafah Offensive Begins",
                "description": "Israel launched a military offensive in Rafah despite international warnings about catastrophic humanitarian consequences.",
                "details": "Israel launched a ground offensive into Rafah in southern Gaza, where over a million displaced Palestinians had sought refuge. This came despite warnings from the United Nations, the United States, and other international actors about the catastrophic humanitarian consequences. The offensive began with the capture of the Rafah border crossing with Egypt, a crucial entry point for humanitarian aid, further complicating relief efforts for Gaza's population.",
                "sources": "UN Office for the Coordination of Humanitarian Affairs (OCHA), Human Rights Watch, news sources",
                "image": "/api/placeholder/600/400"
            },
            {
                "type": "historic-event",
                "date": "2024-07-18",
                "title": "UN Report on Gaza Child Deaths",
                "description": "The United Nations reported that children in Gaza were dying at an unprecedented rate in modern conflicts.",
                "details": "The United Nations released a report stating that children in Gaza were dying at an unprecedented rate compared to other modern conflicts. According to UN data, over 15,000 children had been killed in Gaza since October 2023, representing approximately 40% of the total death toll. The report highlighted that this was the highest number and proportion of children killed in any conflict in recent history, constituting what UNICEF called a 'war on children.'",
                "sources": "United Nations Children's Fund (UNICEF), World Health Organization, UN Office for the Coordination of Humanitarian Affairs (OCHA)",
                "image": "/api/placeholder/600/400"
            },
            {
                "type": "historic-event",
                "date": "2024-09-28",
                "title": "One-Year Anniversary of War",
                "description": "The Israel-Gaza war reached the one-year mark with devastating humanitarian consequences.",
                "details": "The Israel-Gaza war reached its one-year anniversary, with humanitarian organizations reporting catastrophic conditions. According to the Gaza Health Ministry and UN estimates, the death toll had surpassed a reported 40,000 Palestinians, with many more injured and missing under rubble. Much of Gaza's infrastructure lay in ruins, with hospitals, schools, universities, and historic sites destroyed or severely damaged. Over 90% of Gaza's population had been displaced at least once, with many displaced multiple times. Famine conditions were reported in parts of Gaza, with the entire population facing severe food insecurity.",
                "sources": "UN Office for the Coordination of Humanitarian Affairs (OCHA), Gaza Health Ministry, World Food Programme, Integrated Food Security Phase Classification (IPC)",
                "image": "/api/placeholder/600/400"
            }
        ];

        // DOM elements
        const memoryField = document.getElementById('memory-field');
        const memoryDetails = document.getElementById('memory-details');
        const memoryClose = document.getElementById('memory-close');
        const adminToggle = document.getElementById('admin-toggle');
        const adminForm = document.getElementById('admin-form');
        const entryForm = document.getElementById('entry-form');
        const cancelBtn = document.getElementById('cancel-btn');
        const entryType = document.getElementById('entry-type');
        const loadingIndicator = document.getElementById('loading');
        const audioControl = document.getElementById('audio-control');
        const audioText = document.getElementById('audio-text');
        const backgroundMusic = document.getElementById('background-music');
        
        // Set sad music appropriate for memorial
        backgroundMusic.src = "https://dl.dropboxusercontent.com/s/p7qyh1letrb6lmf/Adagio_for_Strings_-_Samuel_Barber_Orchestral.mp3";
        
        // Audio control functionality
        let isMusicPlaying = false;
        audioControl.addEventListener('click', toggleMusic);
        
        function toggleMusic() {
            if (isMusicPlaying) {
                backgroundMusic.pause();
                audioText.textContent = "Play Background Music";
                isMusicPlaying = false;
            } else {
                // We need to start playing only after interaction due to browser autoplay policies
                backgroundMusic.play().then(() => {
                    audioText.textContent = "Pause Background Music";
                    isMusicPlaying = true;
                }).catch(err => {
                    console.log("Audio playback error:", err);
                    audioText.textContent = "Unable to play (Try again)";
                });
            }
        }

        // Show/hide fields based on entry type
        entryType.addEventListener('change', toggleFormFields);

        function toggleFormFields() {
            const memorialFields = document.querySelectorAll('.memorial-field');
            const historicFields = document.querySelectorAll('.historic-field');

            if (entryType.value === 'memorial') {
                memorialFields.forEach(field => field.style.display = 'block');
                historicFields.forEach(field => field.style.display = 'none');
            } else {
                memorialFields.forEach(field => field.style.display = 'none');
                historicFields.forEach(field => field.style.display = 'block');
            }
        }

        // Toggle admin form
        adminToggle.addEventListener('click', () => {
            adminForm.style.display = adminForm.style.display === 'none' ? 'block' : 'none';
        });

        // Cancel button
        cancelBtn.addEventListener('click', () => {
            adminForm.style.display = 'none';
            entryForm.reset();
        });

        // Close memory details
        memoryClose.addEventListener('click', () => {
            memoryDetails.classList.remove('active');
        });

        // Form submit handler
        entryForm.addEventListener('submit', function (e) {
            e.preventDefault();

            const newEntry = {
                type: entryType.value,
                date: document.getElementById('entry-date').value,
                description: document.getElementById('entry-description').value,
                details: document.getElementById('entry-details').value,
                sources: document.getElementById('entry-sources').value,
                image: document.getElementById('entry-image').value || `https://via.placeholder.com/400x400?text=New+Entry`
            };

            if (entryType.value === 'memorial') {
                newEntry.name = document.getElementById('entry-name').value;
                newEntry.age = document.getElementById('entry-age').value;
            } else {
                newEntry.title = document.getElementById('entry-title').value;
            }

            // Add new entry to our data
            timelineData.push(newEntry);
            timelineData.sort((a, b) => new Date(b.date) - new Date(a.date));

            // Re-render memory bubbles
            renderMemoryBubbles();
            
            adminForm.style.display = 'none';
            entryForm.reset();

            alert('Memory added successfully!');
        });

        // Create and render memory bubbles
        function renderMemoryBubbles() {
            memoryField.innerHTML = '';

            // Create raindrops effect
            for (let i = 0; i < 30; i++) {
                const raindrop = document.createElement('div');
                raindrop.className = 'raindrop';
                raindrop.style.left = `${Math.random() * 100}%`;
                raindrop.style.height = `${Math.random() * 80 + 20}px`;
                raindrop.style.animationDuration = `${Math.random() * 5 + 5}s`;
                raindrop.style.animationDelay = `${Math.random() * 5}s`;
                memoryField.appendChild(raindrop);
            }

            // Create memory bubbles
            timelineData.forEach((item, index) => {
                const bubble = document.createElement('div');
                bubble.className = 'memory-bubble';
                
                // Randomize bubble size between 80px and 180px
                const size = Math.random() * 100 + 80;
                bubble.style.width = `${size}px`;
                bubble.style.height = `${size}px`;
                
                // Position randomly but ensure good distribution
                bubble.style.left = `${15 + Math.random() * 70}%`;
                bubble.style.top = `${index * 150 + Math.random() * 100}px`;
                
                // Set animation delay
                bubble.style.animationDelay = `${Math.random() * 5}s`;
                
                // Set background image
                bubble.style.backgroundImage = `url('${item.image || `https://via.placeholder.com/400x400?text=${item.type === 'memorial' ? item.name : item.title}`}')`;
                
                // Store item data
                bubble.dataset.index = index;
                
                // Add event listener
                bubble.addEventListener('click', () => showMemoryDetails(index));
                
                memoryField.appendChild(bubble);
            });
        }

        // Show memory details
        function showMemoryDetails(index) {
            const item = timelineData[index];
            
            // Format date
            const formattedDate = new Date(item.date).toLocaleDateString('en-US', {
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
            
            // Set content
            document.getElementById('detail-image').src = item.image || `https://via.placeholder.com/800x400?text=${item.type === 'memorial' ? item.name : item.title}`;
            document.getElementById('detail-date').textContent = formattedDate;
            
            if (item.type === 'memorial') {
                document.getElementById('detail-title').textContent = `${item.name}, age ${item.age}`;
            } else {
                document.getElementById('detail-title').textContent = item.title;
            }
            
            document.getElementById('detail-description').textContent = item.description;
            document.getElementById('detail-details').textContent = item.details || 'No additional details available.';
            document.getElementById('detail-sources').innerHTML = item.sources ? `<strong>Sources:</strong> ${item.sources}` : 'No sources provided.';
            
            // Show details with animation
            memoryDetails.classList.add('active');
        }

        // Initialize form fields
        toggleFormFields();

        // Render initial memory bubbles
        renderMemoryBubbles();

        // Infinite scrolling implementation
        window.addEventListener('scroll', function () {
            if (window.innerHeight + window.scrollY >= document.body.offsetHeight - 300) {
                // Only load more if we're not at the end of our data
                if (memoryField.childElementCount < 100) { // Arbitrary limit
                    loadMoreMemories();
                }
            }
        });

        function loadMoreMemories() {
            // In a real implementation, this would fetch more data from a server
            loadingIndicator.style.display = 'block';

            setTimeout(() => {
                loadingIndicator.style.display = 'none';
                
                // In a real app, you would add new entries to timelineData here
                // For this prototype, we'll just extend the memory field height
                memoryField.style.minHeight = (parseInt(memoryField.style.minHeight || '100vh') + 100) + 'vh';
            }, 1500);
        }

        // Allow memory details to be closed when clicking outside
        memoryDetails.addEventListener('click', function(e) {
            if (e.target === memoryDetails) {
                memoryDetails.classList.remove('active');
            }
        });

        // Show info box temporarily and fade out
        setTimeout(() => {
            document.getElementById('info-box').style.opacity = '0.7';
        }, 1000);
        
        setTimeout(() => {
            document.getElementById('info-box').style.opacity = '0';
        }, 8000);
    </script>
</body>
</html>
